<MainContainer>:
    command_console: command_console
    text_display_label: text_display_label
    text_display_console: text_display_console
    orientation: 'vertical'
    padding: [10, 10, 10, 10]
    canvas:
        Color:
            rgba: 1, 1, 1, 0.1
        Rectangle:
            size: self.width, self.height
    DisplayContainer:
        TextDisplayContainer:
            orientation: 'vertical'
            id: text_display_console
            size_hint: 1, 1
            font_size: root.font_size
            foreground_color: root.foreground_color
            background_color: root.background_color
            do_scroll_y: True

            TextDisplayLabel:
                id: text_display_label
                size_hint: None, None
                size: self.texture_size
                text_size: self.parent.width, None
                font_size: root.font_size
                font_name: root.font_name
                markup: True

    BoxLayout:
        size_hint: 1, None
        height: root.font_size*2
        CommandInput:
            id: command_console
            shell: root
            multiline: False
            focus: True
            font_size: root.font_size
            font_name: root.font_name
            foreground_color: root.foreground_color
            background_color: root.background_color
            cursor_color: root.foreground_color

        CompassContainer:
            id: compass
            size_hint: None, None
            width: root.width/8
            height: root.width/8

            rows: 3

            CompassButton:
                on_press: self.button_press('N')
                Label:
                    canvas.before:
                        PushMatrix
                        Rotate:
                            angle: 180
                            origin: self.center
                    canvas.after:
                        PopMatrix
                    text: 'V'
            GridLayout:
                cols: 2
                CompassButton:
                    on_press: self.button_press('W')
                    Label:
                        canvas.before:
                            PushMatrix
                            Rotate:
                                angle: -90
                                origin: self.center
                        canvas.after:
                            PopMatrix
                        text: 'V'
                CompassButton:
                    on_press: self.button_press('E')
                    Label:
                        canvas.before:
                            PushMatrix
                            Rotate:
                                angle: 90
                                origin: self.center
                        canvas.after:
                            PopMatrix
                        text: 'V'
            CompassButton:
                on_press: self.button_press('S')
                Label:
                    text: 'V'

<CompassButton>:
    canvas:
        Color:
            rgba: 1, 1, 1, 0.3
        Rectangle:
            size: self.size
            pos: self.pos