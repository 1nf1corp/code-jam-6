#:kivy 1.11.1

<Footer>:
    canvas:
        Color:
            rgb: 0.3,0.4,0.5
        Rectangle:
            size: root.size
            pos: root.pos
    orientation: 'horizontal'

    Button:
        size_hint: 1,1
        text: '1: About'
        on_press: root.about()
    Button:
        size_hint: 1,1
        text: '2: Edit'
    Button:
        size_hint: 1,1
        text: '3: Copy'
    Button:
        size_hint: 1,1
        text: '4: DWN'
        on_press: root.down()
    Button:
        size_hint: 1,1
        text: '5: UP'
        on_press: root.up()
    Button:
        size_hint: 1,1
        text: '6: Mkdir  '
        on_press: root.mkdir()
    Button:
        size_hint: 1,1
        text: '7: Create'
        on_press: root.create()
    Button:
        size_hint: 1,1
        text: '8: Delete'
        on_press: root.delete()
    Button:
        size_hint: 1,1
        text: '9: Quit'
        on_press: root.quit()

<AboutPopup>:
    title: 'About Rex Explorer'
    BoxLayout:
        orientation: "vertical"
        ScrollView:
            effect_cls: "ScrollEffect"
            Label:
                id: AboutInfo
                size_hint_y: None
                height: self.texture_size[1]
                text_size: (self.width-20), None
                line_height: 1.5
                valign: "top"
                color: 0.34,1,1,1
        Button:
            text: "[ Close ]"
            size_hint_y: None
            height: "40dp"
            on_press: root.dismiss()
            color: 0.34,1,1,1

<EditPopup>:
    title: 'Edit a file'
    FloatLayout:
        Button:
            id: left
            canvas:
                Color:
                    rgba: 0, 0, 0, 0
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint: .3,.1
            pos_hint: {'center_x': .3, 'center_y': .7}
            text: '[ Left Manager ]'
            color: 0.34,1,1,1
            on_press: root.edit('left')
        Button:
            id: right
            canvas:
                Color:
                    rgba: 0, 0, 0, 0
                Rectangle:
                    pos: self.pos
                    size: self.size

            size_hint: .3,.1
            pos_hint: {'center_x': .7, 'center_y': .7}
            text: '[ Right Manager ]'
            color: 0.34,1,1,1
            on_press: root.edit('right')

        Button:
            size_hint: .3,.1
            pos_hint: {'center_x': .5, 'center_y': .3}
            text: '[ Cancel ]'
            color: 0.34,1,1,1
            on_press: root.dismiss()

<Mkdir>:
    title: 'Make a new Directory?'
    FloatLayout:
        TextInput:
            id: create
            size_hint: .5,.2
            pos_hint: {'center_x': .5, 'center_y': .7}
            hint_text: 'Enter Directory Name'
        Button:
            id: left
            canvas:
                Color:
                    rgba: 0,0,0, root.left
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint: .3,.1
            pos_hint: {'center_x': .3, 'center_y': .4}
            text: '[ Left Manager ]'
            color: 0.34,1,1,1
            on_press: root.buttonselect(1)
        Button:
            id: right
            canvas:
                Color:
                    rgba: 0,0,0, root.right
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint: .3,.1
            pos_hint: {'center_x': .7, 'center_y': .4}
            text: '[ Right Manager ]'
            color: 0.34,1,1,1
            on_press: root.buttonselect(2)
        Button:
            size_hint: .3,.1
            pos_hint: {'center_x': .5, 'center_y': .25}
            text: '[ Create New Directory ]'
            color: 0.34,1,1,1
            on_press: root.mkdir(root.ids.create.text)
        Button:
            size_hint: .3,.1
            pos_hint: {'center_x': .5, 'center_y': .1}
            text: '[ Cancel ]'
            color: 0.34,1,1,1
            on_press: root.dismiss()

<CreatePopup>:
    title: 'Make a new File?'
    FloatLayout:
        TextInput:
            id: create
            size_hint: .5,.2
            pos_hint: {'center_x': .5, 'center_y': .7}
            hint_text: 'Enter File Name'
        Button:
            id: left
            canvas:
                Color:
                    rgba: 0,0,0, root.left
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint: .3,.1
            pos_hint: {'center_x': .3, 'center_y': .4}
            text: '[ Left Manager ]'
            color: 0.34,1,1,1
            on_press: root.buttonselect(1)
        Button:
            id: right
            canvas:
                Color:
                    rgba: 0,0,0, root.right
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint: .3,.1
            pos_hint: {'center_x': .7, 'center_y': .4}
            text: '[ Right Manager ]'
            color: 0.34,1,1,1
            on_press: root.buttonselect(2)
        Button:
            size_hint: .3,.1
            pos_hint: {'center_x': .5, 'center_y': .25}
            text: '[ Create New File ]'
            color: 0.34,1,1,1
            on_press: root.mkfile(root.ids.create.text)
        Button:
            size_hint: .3,.1
            pos_hint: {'center_x': .5, 'center_y': .1}
            text: '[ Cancel ]'
            color: 0.34,1,1,1
            on_press: root.dismiss()

<DeletePopup>:
    title: 'Delete Currently Selected Files/Dirs?'
    FloatLayout:
        Label:
            id: left
            size_hint: .5,.1
            pos_hint: {'center_x': .5, 'center_y': .7}
            color: 0.34,1,1,1
        Label:
            id: right
            size_hint: .5,.1
            pos_hint: {'center_x': .5, 'center_y': .5}
            color: 0.34,1,1,1
        Button:
            id: yes
            size_hint: .2,.2
            pos_hint: {'center_x': .4, 'center_y': .3}
            text: '[ YES ]'
            color: 0.34,1,1,1
            on_press: root.delete()
        Button:
            id: no
            size_hint: .2,.2
            pos_hint: {'center_x': .6, 'center_y': .3}
            text: '[ NO ]'
            color: 0.34,1,1,1
            on_press: root.dismiss()



<QuitPopup>:
    title: 'Quit?'
    FloatLayout:
        Label:
            size_hint: .5,.1
            pos_hint: {'center_x': .5, 'center_y': .7}
            color: 0.34,1,1,1
            text: 'Are you sure you want to Quit?'
        Button:
            id: yes
            size_hint: .2,.2
            pos_hint: {'center_x': .3, 'center_y': .5}
            text: '[ YES ]'
            color: 0.34,1,1,1
            on_press: quit(0)
        Button:
            id: no
            size_hint: .2,.2
            pos_hint: {'center_x': .7, 'center_y': .5}
            text: '[ NO ]'
            color: 0.34,1,1,1
            on_press: root.dismiss()

<Popup>:
    auto_dismiss: False
    canvas.before:
        Color:
            rgb: 0.34,1,1
        Rectangle:
            size: root.size[0] + 5, root.size[1] + 5
            pos: root.pos[0] - 2.5, root.pos[1] - 2.5
    seperator_color: 0.34,1,1
    title_color: 0.34,1,1,1
    title_align: 'center'
    title_font: './ancient_tech/static/retro_font.ttf'
    background_color: 0,0,0,0

<TextInput>:
    font_name: './ancient_tech/static/retro_font.ttf'
    multiline: False
    background_color: 0,0,.65,1
    foreground_color: 0.34,1,1,1
    hint_text_color: 0.34,1,1,1