#:kivy 1.11.1
# Uncomment out this to have a border drawn around everything

#:import random random.random
#<Widget>:
#    canvas.after:
#        Color:
#            rgba: random(), random(), random(), 1
#        Line:
#            rectangle: [self.x, self.y, self.width, self.height]



# Add this to MainWidget for the background

################## LAYOUT ##################
<MainWidget>:
#    canvas.before:
#        Rectangle:
#            pos: self.pos
#            size: self.size
#            source: '../assets/cave_background.jpg'
    id: main_layout
    orientation: 'vertical'
    cols: 2
    StatusBar:
        size_hint_x: 0.3
    CardWidget
        size_hint_x: 0.7




################## STATUS ##################
<StatusBar>:
    orientation: 'vertical'
    padding: (0, 150)
    Label:
        text: "Health"
    Label:
        text: "Hunger"
    Label:
        text: "Thirst"
    Label:
        text: "Sanity"


<StatusWidget>:
    orientation:

##################  CARD  ##################
<CardWidget>:
    Rotater:
        id: test
        do_rotation: False
        do_scale: False
        do_translation: False
        # rotation: swipe.rotation
        # pos: swipe.pos

        SwipeCard:
            id: swipe

            BoxLayout:
                # size_hint: None,None
                orientation: 'vertical'
                padding: (5, 5)

                # SwipeCard:
                #     size: 5000, 5000
                CardBoxLayout:
                    # pos: swipe.pos, 0
                    id: card
                    BoxLayout:
                        size_hint_y: .2
                        Widget:
                            size_hint_x: .2
                        Label:
                            font_size: 33
                            text_size: self.size
                            center: root.center
                            text: "[b]" + data.active_card.text+ "[/b]"
                            halign: 'center'
                            markup: True
                        Widget:
                            size_hint_x: .2

                    BoxLayout:
                        BoxLayout:
                            canvas.before:
                                Rectangle:
                                    pos: (self.pos[0]+(self.padding[0] ), self.pos[1]+(self.padding[1] ))
                                    size: (self.size[0]-(self.padding[0] + self.padding[2]), self.size[1]-(self.padding[1] + self.padding[3]))
                                    source: data.assets_loc  + 'stone_tablet.png'
                            #         L    T    R     B
                            padding: (100, 20, 100, 10)
                            BoxLayout:
                                padding: (30, 90, 30, 110)
                                Image:
                                    source: data.assets_loc + data.active_card.card_image

                BoxLayout:
                    size_hint:(1, .3)
                    id: choices
                    orientation: 'horizontal'
                    Button:
                        text: data.active_card.options[0].text
                        font_size: 26
                        center: root.center
                        valign: 'center'
                        halign: 'center'
                        text_size: self.size
                        on_press: data.choice_handler('1')
                    Button:
                        text: data.active_card.options[1].text if len(data.active_card.options) > 1 else data.active_card.options[0].text
                        font_size: 26
                        center: root.center
                        valign: 'center'
                        halign: 'center'
                        text_size: self.size
                        on_press: data.choice_handler('1')
        # Test:
        #     rotation: test.rotation
        #     source: data.assets_loc  + 'python_discord_logo.png'




<CardBoxLayout>:
    id: card
    orientation: 'vertical'
